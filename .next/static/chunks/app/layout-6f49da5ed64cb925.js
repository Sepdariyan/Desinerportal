(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{3673:()=>{},6126:(e,t,a)=>{"use strict";a.d(t,{default:()=>b});var i=a(5155),s=a(2115);let r=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&a.indexOf(e)===t).join(" ")};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,s.forwardRef)((e,t)=>{let{color:a="currentColor",size:i=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:d="",children:c,iconNode:u,...p}=e;return(0,s.createElement)("svg",{ref:t,...l,width:i,height:i,stroke:a,strokeWidth:o?24*Number(n)/Number(i):n,className:r("lucide",d),...p},[...u.map(e=>{let[t,a]=e;return(0,s.createElement)(t,a)}),...Array.isArray(c)?c:[c]])}),o=(e,t)=>{let a=(0,s.forwardRef)((a,i)=>{let{className:l,...o}=a;return(0,s.createElement)(n,{ref:i,iconNode:t,className:r("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),l),...o})});return a.displayName="".concat(e),a},d=o("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]),c=o("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),u=o("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var p=a(2619),m=a.n(p);let h=[{id:"rigid-panel-bd",title:"Rigid Box — Panel B & D +3 mm (W side)",topics:["Rigid Box","Prepress"],minutes:6,priority:"P1",publishedAt:"2025-08-01",views:210,content:"Aturan panel sisi W untuk rigid box: tambahkan +3 mm pada panel B dan D agar toleransi lipatan terpenuhi..."},{id:"export-vendor-checklist",title:"Export Vendor — PDF/AI/PNG checklist",topics:["Handover","Checklist"],minutes:4,priority:"P2",publishedAt:"2025-07-26",views:155,content:"Checklist final sebelum kirim file ke vendor: format PDF/X, outline font, embed profile, bleed & slug..."},{id:"color-swatch-digital-press",title:"Color Swatch — Digital Press standard",topics:["Color","QA"],minutes:5,priority:"P2",publishedAt:"2025-07-22",views:122,content:"Gunakan swatch standar CMYK pada digital press. Hindari spot kecuali disetujui brand. DeltaE target < 2.5..."},{id:"knife-line-spec",title:"Knife line spec — stroke 1 pt, no dashed",topics:["Prepress"],minutes:4,priority:"P2",publishedAt:"2025-08-05",views:98,content:"Pisau/die line wajib stroke 1 pt, warna magenta, non-dashed. Gunakan layer terpisah dan lock sebelum export..."},{id:"gap-guiding-3cm",title:"Gap guiding 3 cm — layout guidance",topics:["Rigid Box"],minutes:6,priority:"P2",publishedAt:"2025-08-03",views:86,content:"Jarak guiding minimal 3 cm dari tepi panel untuk mencegah slip saat laminasi. Periksa arah serat board..."},{id:"overhang-lid-5mm",title:"Overhang lid +5 mm — validation",topics:["Rigid Box","QA"],minutes:3,priority:"P2",publishedAt:"2025-07-28",views:140,content:"Overhang tutup disarankan +5 mm dibanding base untuk feel premium. Cek konsistensi pada sample produksi..."},{id:"file-naming-vendor",title:"Vendor package — file naming",topics:["Handover"],minutes:4,priority:"P3",publishedAt:"2025-08-02",views:77,content:"Penamaan file: {Brand}_{Project}_{Part}_{Size}_{Rev}.pdf. Simpan juga AI/packaged untuk revisi cepat..."},{id:"label-bleed-safe",title:"Label format — bleed & safe area",topics:["Label"],minutes:5,priority:"P2",publishedAt:"2025-07-30",views:132,content:"Bleed minimal 3 mm, safe area 3 mm dari tepi potong. Hindari teks kecil <6 pt pada bahan bertekstur..."},{id:"templates-dieline-db",title:"Template linking — dielines DB",topics:["Templates"],minutes:4,priority:"P3",publishedAt:"2025-07-25",views:65,content:"Gunakan tautan template dieline terpusat untuk mengurangi versi ganda. Selalu cek revisi terakhir (v2.3+)..."}];function x(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,a=e.toLowerCase();return h.map(e=>{let t=(e.title+" "+e.topics.join(" ")+" "+e.content).toLowerCase(),i=3*!!t.includes(a)+a.split(/[\\s,-]+/).reduce((e,a)=>a&&t.includes(a)?e+1:e,0),s=t.indexOf(a),r=s>=0?e.content.slice(Math.max(0,s-30),Math.min(e.content.length,s+120)):e.content.slice(0,150);return{...e,score:i,snippet:r}}).filter(e=>e.score>0).sort((e,t)=>t.score-e.score).slice(0,t)}function b(){let[e,t]=(0,s.useState)(!1),[a,r]=(0,s.useState)(""),[l,n]=(0,s.useState)([{role:"bot",text:"Hai! Tanyakan aturan desain apa pun. Aku akan mencari di materi portal."}]),o=(0,s.useRef)(null);async function p(e){let t=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({q:e})});if(!t.ok){let t=x(e,3);return t.length?{text:"Ringkasan cepat dari materi terkait:",sources:t.map(e=>({id:e.id,title:e.title,topics:e.topics}))}:{text:"Belum ketemu artikel yang pas. Coba kata kunci lain (mis: rigid, checklist, color).",sources:[]}}let a=await t.json();return{text:a.answer||a.text,sources:a.sources||a.hits||[]}}async function h(e){e.preventDefault();let t=a.trim();if(t){r(""),n(e=>[...e,{role:"user",text:t}]),n(e=>[...e,{role:"bot",text:"Sebentar… saya cek materi terkait."}]);try{let{text:e,sources:a}=await p(t);n(e=>e.slice(0,-1)),n(t=>[...t,{role:"bot",text:e}]);let s=a&&a.length?(0,i.jsxs)("div",{className:"mt-2 text-xs",children:[(0,i.jsx)("div",{className:"mb-1 font-medium",children:"Rujukan:"}),(0,i.jsx)("ul",{className:"list-disc space-y-0.5 pl-5",children:a.map((e,t)=>(0,i.jsxs)("li",{children:[(0,i.jsx)(m(),{href:"/docs/".concat(e.id),className:"text-teal-700 underline",children:e.title})," ",(0,i.jsxs)("span",{className:"text-slate-500",children:["(",Array.isArray(e.topics)?e.topics.join(" • "):"",")"]})]},t))})]}):(0,i.jsx)("div",{className:"mt-2 text-xs text-slate-500",children:"Tidak ada rujukan yang sangat relevan."});n(e=>[...e,{role:"bot",jsx:s}])}catch(e){n(e=>[...e,{role:"bot",text:"Jaringan bermasalah. Coba lagi ya."}])}}}(0,s.useEffect)(()=>{var e;null==(e=o.current)||e.scrollTo({top:999999,behavior:"smooth"})},[l,e]);let b=a.length>=2?x(a,3).map(e=>e.title):[];return(0,i.jsxs)("div",{className:"fixed bottom-4 right-4 z-50",children:[!e&&(0,i.jsxs)("button",{onClick:()=>t(!0),className:"flex items-center gap-2 rounded-full bg-teal-600 px-4 py-3 text-white shadow-lg hover:bg-teal-700",children:[(0,i.jsx)(d,{className:"h-5 w-5"}),(0,i.jsx)("span",{children:"Chat"})]}),e&&(0,i.jsxs)("div",{className:"flex h-[520px] w-[360px] flex-col overflow-hidden rounded-2xl border bg-white shadow-xl dark:border-slate-700 dark:bg-slate-900",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between border-b px-3 py-2 dark:border-slate-700",children:[(0,i.jsx)("div",{className:"font-medium",children:"Asisten Portal"}),(0,i.jsx)("button",{onClick:()=>t(!1),className:"rounded p-1 hover:bg-slate-100 dark:hover:bg-slate-800","aria-label":"Close",children:(0,i.jsx)(c,{className:"h-5 w-5"})})]}),(0,i.jsx)("div",{ref:o,className:"flex-1 space-y-3 overflow-auto p-3 text-sm",children:l.map((e,t)=>(0,i.jsx)("div",{className:"user"===e.role?"text-right":"",children:(0,i.jsxs)("div",{className:"inline-block max-w-[85%] whitespace-pre-wrap rounded-2xl px-3 py-2 "+("user"===e.role?"bg-teal-600 text-white":"bg-slate-100 text-slate-800 dark:bg-slate-800 dark:text-slate-100"),children:[e.text,e.jsx]})},t))}),b.length>0&&(0,i.jsxs)("div",{className:"mx-3 mb-2 text-xs text-slate-500",children:["Terkait: ",b.join(" • ")]}),(0,i.jsxs)("form",{onSubmit:h,className:"flex items-center gap-2 border-t p-2 dark:border-slate-700",children:[(0,i.jsx)("input",{value:a,onChange:e=>r(e.target.value),placeholder:"Tanya aturan / keyword…",className:"h-10 flex-1 rounded-lg border border-slate-300 bg-white px-3 text-sm outline-none focus:border-teal-400 dark:border-slate-700 dark:bg-slate-900"}),(0,i.jsx)("button",{type:"submit",className:"inline-flex h-10 items-center justify-center rounded-lg bg-teal-600 px-3 text-white hover:bg-teal-700",children:(0,i.jsx)(u,{className:"h-4 w-4"})})]})]})]})}},9005:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,3673,23)),Promise.resolve().then(a.bind(a,6126))}},e=>{e.O(0,[978,619,441,255,358],()=>e(e.s=9005)),_N_E=e.O()}]);